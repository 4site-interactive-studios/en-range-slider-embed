(()=>{"use strict";class e extends HTMLElement{constructor(){if(super(),this.options={min:"5",minMessage:"Please insert a minimum of $5",max:"100",maxMessage:"You can donate as much as you like, please insert the amount of your choice below",step:"1",defaultAmount:"10",currencySymbol:"",currencyPosition:"left",oneTimeLabel:"",monthlyLabel:"",annualLabel:"",selectedFrequency:"onetime",buttonLabel:"Donate Now",colorBg:"",colorTxt:"",colorFormTxt:"",colorThumb:"",colorThumbHover:"",colorThumbActive:"",colorButton:"",colorButtonHover:""},this.debugColor="red",this.wrapper=document.createElement("div"),this.href=this.getAttribute("href"),this.target=this.getAttribute("target")||"",this.debugColor=`#${Math.floor(16777215*Math.random()).toString(16)}`,this.log("EN Range Slider: Debug mode is on"),!this.href)throw new Error("EN Range Slider: No HREF provided");const e=this.attachShadow({mode:"open"});this.wrapper.classList.add("en-range-slider-wrapper"),e.appendChild(this.wrapper);const r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(".en-range-slider-wrapper{--en-range-slider-color-bg: #009fe3;--en-range-slider-color-txt: #fff;--en-range-slider-color-form-txt: #aaa;--en-range-slider-color-thumb: #ffb800;--en-range-slider-color-thumb-hover: #cc9300;--en-range-slider-color-thumb-active: #007bb0;--en-range-slider-color-button: #009fe3;--en-range-slider-color-button-hover: #007bb0}.en-range-slider-wrapper .en-range-slider{width:100%;padding-top:10px;height:80px;text-align:center}.en-range-slider-wrapper .en-range-slider__container{position:relative;background-color:var(--en-range-slider-color-bg);color:var(--en-range-slider-color-txt);display:flex;justify-content:space-between;align-items:center;border-radius:40px;height:40px;padding:0 20px;margin-bottom:10px}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__min,.en-range-slider-wrapper .en-range-slider__container .en-range-slider__amount,.en-range-slider-wrapper .en-range-slider__container .en-range-slider__max{display:flex;flex-direction:row;font-size:1.3rem;justify-content:center;color:var(--en-range-slider-color-txt);font-weight:700;line-height:1}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__min.currency-right,.en-range-slider-wrapper .en-range-slider__container .en-range-slider__amount.currency-right,.en-range-slider-wrapper .en-range-slider__container .en-range-slider__max.currency-right{flex-direction:row-reverse}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__min,.en-range-slider-wrapper .en-range-slider__container .en-range-slider__max{opacity:1;transition:0.3s opacity ease-in-out}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range input{appearance:none;width:100%;background-color:transparent;height:40px;border:none;margin:0}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range input::-webkit-slider-thumb{appearance:none;width:60px;height:60px;border-radius:60px;background-color:var(--en-range-slider-color-thumb);cursor:pointer;transition:background-color 0.2s ease-in-out;border:2px solid var(--en-range-slider-color-txt)}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range input::-webkit-slider-thumb:hover{background-color:var(--en-range-slider-color-thumb-hover)}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range input::-webkit-slider-thumb:active{background-color:var(--en-range-slider-color-thumb-active)}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range input::-moz-range-thumb{appearance:none;width:60px;height:60px;border-radius:60px;background-color:var(--en-range-slider-color-thumb);cursor:pointer;transition:background-color 0.2s ease-in-out;border:2px solid var(--en-range-slider-color-txt)}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range input::-moz-range-thumb:hover{background-color:var(--en-range-slider-color-thumb-hover)}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__range input::-moz-range-thumb:active{background-color:var(--en-range-slider-color-thumb-active)}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__amount{position:absolute;top:0;width:60px;font-size:1.1rem;text-align:center;line-height:40px;z-index:2;transform:translateX(-30px);user-select:none;pointer-events:none;white-space:nowrap}.en-range-slider-wrapper .en-range-slider__container .en-range-slider__amount--small{font-size:1rem}.en-range-slider-wrapper .en-range-slider .en-range-slider__min-message,.en-range-slider-wrapper .en-range-slider .en-range-slider__max-message{height:auto;max-height:0;overflow:hidden;transition:max-height 0.3s ease-in-out, padding 0.3s ease-in-out;font-size:0.75rem;line-height:1;font-weight:700;color:var(--en-range-slider-color-form-txt);padding:0}.en-range-slider-wrapper .en-range-slider .en-range-slider__min-message.show,.en-range-slider-wrapper .en-range-slider .en-range-slider__max-message.show{max-height:100%;padding:2px 0}.en-range-slider-wrapper .en-range-slider__form-container{display:flex;flex-direction:row;justify-content:flex-start;align-items:stretch;width:100%;height:100%}.en-range-slider-wrapper .en-range-slider__form-amount{width:100px;display:flex;align-items:center;gap:5px;flex-direction:row;flex-wrap:nowrap}.en-range-slider-wrapper .en-range-slider__form-amount .en-range-slider__currency{font-size:1.1rem;font-weight:700;line-height:1;color:#333}.en-range-slider-wrapper .en-range-slider__form-amount.currency-right{flex-direction:row-reverse}.en-range-slider-wrapper .en-range-slider__form-amount input{width:100%;height:40px;border:1px solid var(--en-range-slider-color-form-txt);border-radius:2px;padding:0 10px;font-size:1.1rem}.en-range-slider-wrapper .en-range-slider__form-amount input:focus{outline:none;border-color:var(--en-range-slider-color-thumb-active)}.en-range-slider-wrapper .en-range-slider__form-frequency{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:stretch;position:relative;width:100%;gap:15px;white-space:nowrap}.en-range-slider-wrapper .en-range-slider__form-frequency label{width:100%;max-width:100px;height:40px;cursor:pointer}.en-range-slider-wrapper .en-range-slider__form-frequency label span{display:block;line-height:38px;height:40px;text-align:center;white-space:nowrap;border:1px solid var(--en-range-slider-color-form-txt);border-radius:2px;color:var(--en-range-slider-color-form-txt);font-weight:700;font-size:0.9rem;transition:background-color 0.3s ease-in-out, border-color 0.3s ease-in-out, color 0.3s ease-in-out}.en-range-slider-wrapper .en-range-slider__form-frequency label input{position:absolute;top:0;left:0;opacity:0}.en-range-slider-wrapper .en-range-slider__form-frequency label input:checked+span{background-color:var(--en-range-slider-color-thumb);color:var(--en-range-slider-color-txt);border-color:var(--en-range-slider-color-thumb)}.en-range-slider-wrapper .en-range-slider__form-frequency label:hover span{background-color:var(--en-range-slider-color-thumb);color:var(--en-range-slider-color-txt);border-color:var(--en-range-slider-color-thumb)}.en-range-slider-wrapper .en-range-slider__form-button{box-sizing:content-box;height:40px;background-color:var(--en-range-slider-color-button);color:var(--en-range-slider-color-txt);border:1px solid var(--en-range-slider-color-button);border-radius:2px;font-size:1rem;display:block;line-height:38px;text-align:center;white-space:nowrap;padding:0 15px;cursor:pointer;transition:background-color 0.3s ease-in-out, border-color 0.3s ease-in-out, color 0.3s ease-in-out}.en-range-slider-wrapper .en-range-slider__form-button:hover{background-color:var(--en-range-slider-color-button-hover);color:var(--en-range-slider-color-txt);border-color:var(--en-range-slider-color-button-hover)}@media (max-width: 600px), (max-device-width: 600px){.en-range-slider-wrapper{max-width:90%;margin:0 auto}.en-range-slider-wrapper .en-range-slider__form-container{display:block;padding:0}.en-range-slider-wrapper .en-range-slider__form-amount{margin:10px auto}.en-range-slider-wrapper .en-range-slider__form-frequency{display:block;margin:0}.en-range-slider-wrapper .en-range-slider__form-frequency label{display:block;margin:10px auto;max-width:100%}.en-range-slider-wrapper .en-range-slider__form-button{margin:10px auto;display:block;width:100%;box-sizing:border-box}}\n")),e.appendChild(r),this.loadOptions(),this.renderCustomColors(),this.renderRangeSlider(),this.addEvents(),this.calculateAmountPosition()}isDebug(){const e=new RegExp("[\\?&]debug=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}log(e){this.isDebug()&&console.log(`%c${e}`,`color: white; background: ${this.debugColor}; font-size: 1.2rem; font-weight: bold; padding: 2px; border-radius: 2px;`)}get currency(){if(""!==this.options.currencySymbol)return this.options.currencySymbol;const e=document.documentElement.lang,r={de:"€",es:"€","en-US":"$",en:"$","en-CA":"$","en-gb":"£"};return e&&e in r?r[e]:"$"}renderRangeSlider(){const e=document.createElement("div");e.classList.add("en-range-slider"),e.innerHTML=`\n      <div class="en-range-slider__container">\n        <div class="en-range-slider__min currency-${this.options.currencyPosition}">\n          <span class="en-range-slider__currency">${this.currency}</span>\n          <span class="en-range-slider__min-value">${this.options.min}</span>\n        </div>\n        <output class="en-range-slider__amount currency-${this.options.currencyPosition}">\n          <span class="en-range-slider__currency">${this.currency}</span>\n          <span class="en-range-slider__amount-value">${this.options.defaultAmount}</span>\n        </output>\n        <div class="en-range-slider__range">\n          <input type="range" class="en-range-slider__range-input" min="${this.options.min}" max="${this.options.max}" step="${this.options.step}" value="${this.options.defaultAmount}">\n        </div>\n        <div class="en-range-slider__max currency-${this.options.currencyPosition}">\n          <span class="en-range-slider__currency">${this.currency}</span>\n          <span class="en-range-slider__max-value">${this.options.max}</span>\n        </div>\n      </div>\n      <div class="en-range-slider__min-message">${this.options.minMessage}</div>\n      <div class="en-range-slider__max-message">${this.options.maxMessage}</div>\n    `,this.wrapper.appendChild(e);const r=document.createElement("div");r.classList.add("en-range-slider-form"),r.innerHTML=`\n    <div class="en-range-slider__form-container">\n        <div class="en-range-slider__form-frequency">\n          <div class="en-range-slider__form-amount currency-${this.options.currencyPosition}">\n            <span class="en-range-slider__currency">${this.currency}</span>\n            <input type="text" class="en-range-slider__form-amount-input" placeholder="Amount" value="${this.options.defaultAmount}" autocomplete="off" data-lpignore="true" inputmode="decimal">\n          </div>\n          ${this.getFrequency("oneTimeLabel")}\n          ${this.getFrequency("monthlyLabel")}\n          ${this.getFrequency("annualLabel")}\n          ${""!==this.options.buttonLabel?`<button class="en-range-slider__form-button">${this.options.buttonLabel}</button>`:""}\n          \n        </div>\n      </div>\n    `,this.wrapper.appendChild(r)}getFrequency(e){if(""===this.options[e])return"";const r={oneTimeLabel:"ONETIME",monthlyLabel:"MONTHLY",annualLabel:"ANNUAL"},n=(this.options.selectedFrequency||"").toUpperCase()===r[e];return`\n          <label class="en-range-slider__form-frequency-label">\n            <input type="radio" class="en-range-slider__form-frequency-input" name="frequency" value="${r[e]}" ${n?"checked":""}>\n            <span class="en-range-slider__form-frequency-label-text">${this.options[e]}</span>\n          </label>\n          `}renderCustomColors(){""!==this.options.colorBg&&this.wrapper.style.setProperty("--en-range-slider-color-bg",this.options.colorBg),""!==this.options.colorTxt&&this.wrapper.style.setProperty("--en-range-slider-color-txt",this.options.colorTxt),""!==this.options.colorFormTxt&&this.wrapper.style.setProperty("--en-range-slider-color-form-txt",this.options.colorFormTxt),""!==this.options.colorThumb&&this.wrapper.style.setProperty("--en-range-slider-color-thumb",this.options.colorThumb),""!==this.options.colorThumbHover&&this.wrapper.style.setProperty("--en-range-slider-color-thumb-hover",this.options.colorThumbHover),""!==this.options.colorThumbActive&&this.wrapper.style.setProperty("--en-range-slider-color-thumb-active",this.options.colorThumbActive),""!==this.options.colorButton&&this.wrapper.style.setProperty("--en-range-slider-color-button",this.options.colorButton),""!==this.options.colorButtonHover&&this.wrapper.style.setProperty("--en-range-slider-color-button-hover",this.options.colorButtonHover)}addEvents(){var e,r,n;const o=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector(".en-range-slider__range-input"),i=null===(r=this.wrapper)||void 0===r?void 0:r.querySelector(".en-range-slider__form-amount-input");if(o&&o.addEventListener("input",(()=>{this.calculateAmountPosition()})),i&&(i.addEventListener("change",(()=>{i.value.indexOf(",")>-1&&(i.value=i.value.replace(",",".")),+i.value<+this.options.min&&(i.value=this.options.min),this.calculateAmountPosition(i.value)})),i.addEventListener("keydown",(e=>{if("Enter"===e.key)return e.preventDefault(),i.value.indexOf(",")>-1&&(i.value=i.value.replace(",",".")),+i.value<+this.options.min&&(i.value=this.options.min),this.calculateAmountPosition(i.value),!1}))),window.addEventListener("resize",(()=>{this.calculateAmountPosition()})),""!==this.options.buttonLabel){const e=null===(n=this.wrapper)||void 0===n?void 0:n.querySelector(".en-range-slider__form-button");e&&e.addEventListener("click",(()=>{this.goToDonationPage()}))}}calculateAmountPosition(e=""){var r,n,o,i,a,t;this.hideWarning();const s=null===(r=this.wrapper)||void 0===r?void 0:r.querySelector(".en-range-slider__range-input"),l=null===(n=this.wrapper)||void 0===n?void 0:n.querySelector(".en-range-slider__amount-value"),d=null===(o=this.wrapper)||void 0===o?void 0:o.querySelector(".en-range-slider__amount"),c=null===(i=this.wrapper)||void 0===i?void 0:i.querySelector(".en-range-slider__max"),p=null===(a=this.wrapper)||void 0===a?void 0:a.querySelector(".en-range-slider__min"),g=c.querySelector(".en-range-slider__max-value");+s.value>999?d.classList.add("en-range-slider__amount--small"):d.classList.remove("en-range-slider__amount--small"),e&&(parseFloat(e)>parseFloat(this.options.max)?(s.max=parseInt(e).toString(),g.innerHTML=e):(s.max=this.options.max,g.innerHTML=this.options.max),s.value=e);const u=(+s.value-+s.min)/(+s.max-+s.min)*(s.offsetWidth-30-30)+30;if(l&&d&&(d.style.left=`${u<30?30:u}px`,l.innerText=s.value,!e)){const e=null===(t=this.wrapper)||void 0===t?void 0:t.querySelector(".en-range-slider__form-amount-input");e&&(e.value=s.value)}c&&(c.style.opacity=parseInt(s.value)>parseInt(s.max)-15?"0":"1"),p&&(p.style.opacity=u<64?"0":"1"),s.value===s.min&&this.showMinWarning(),s.value===s.max&&this.showMaxWarning()}showMinWarning(){var e;const r=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector(".en-range-slider__min-message");r&&r.classList.add("show")}showMaxWarning(){var e;const r=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector(".en-range-slider__max-message");r&&r.classList.add("show")}hideWarning(){var e,r;const n=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector(".en-range-slider__min-message"),o=null===(r=this.wrapper)||void 0===r?void 0:r.querySelector(".en-range-slider__max-message");n&&o&&(n.classList.remove("show"),o.classList.remove("show"))}goToDonationPage(){var e;const r=new URL(this.href);r.searchParams.append("transaction.donationAmt",this.getAmount());const n=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector("[name='frequency']:checked");n&&(r.searchParams.append("transaction.recurrfreq",n.value),"ONETIME"!==n.value&&r.searchParams.append("transaction.recurrpay","Y")),this.target&&"_self"!==this.target?window.open(r.toString(),this.target):window.location.href=r.toString()}getAmount(){var e;return(null===(e=this.wrapper)||void 0===e?void 0:e.querySelector(".en-range-slider__range-input")).value}loadOptions(){const e=this.dataset;if(e)for(const r in e)r in this.options&&(this.options[r]=e[r],this.log(`EN Range Slider: ${r} = ${e[r]}`))}}customElements.define("range-slider",e)})();